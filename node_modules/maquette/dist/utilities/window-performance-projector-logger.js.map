{"version":3,"file":"window-performance-projector-logger.js","sourceRoot":"","sources":["../../src/utilities/window-performance-projector-logger.ts"],"names":[],"mappings":"AAEA;;;;GAIG;AACH,MAAM,CAAC,IAAI,gCAA4D,CAAC;AAExE,IAAK,MAAc,CAAC,WAAW,IAAK,MAAc,CAAC,WAAW,CAAC,OAAO,EAAE;IACtE,IAAI,aAAW,GAAG,MAAM,CAAC,WAAW,CAAC;IACrC,IAAI,UAA4C,CAAC;IACjD,gCAAgC,GAAG,UACjC,SAAiC,EACjC,OAA0B;QAE1B,aAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5B,QAAQ,SAAS,EAAE;YACjB,KAAK,mBAAmB;gBACtB,aAAW,CAAC,OAAO,CAAC,cAAc,EAAE,UAAU,EAAE,mBAAmB,CAAC,CAAC;gBACrE,MAAM;YACR,KAAK,YAAY;gBACf,aAAW,CAAC,OAAO,CAAC,aAAa,EAAE,aAAa,EAAE,YAAY,CAAC,CAAC;gBAChE,MAAM;YACR,KAAK,UAAU;gBACb,aAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAQ,EAAE,UAAU,CAAC,CAAC;gBACpD,MAAM;YACR,KAAK,SAAS;gBACZ,aAAW,CAAC,OAAO,CAAC,YAAY,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC;gBACzD,MAAM;SACT;QACD,UAAQ,GAAG,SAAS,CAAC;IACvB,CAAC,CAAC;CACH;KAAM;IACL,gCAAgC,GAAG,cAAM,OAAA,SAAS,EAAT,CAAS,CAAC;CACpD","sourcesContent":["import { PerformanceLoggerEvent, ProjectorPerformanceLogger } from \"../interfaces\";\n\n/**\n * A `ProjectorPerformanceLogger` that reports measurements to window.performance.measure\n *\n * Can be passed to `createProjector` to get more insights into the virtual DOM performance.\n */\nexport let windowPerformanceProjectorLogger: ProjectorPerformanceLogger;\n\nif ((window as any).performance && (window as any).performance.measure) {\n  let performance = window.performance;\n  let lastMark: PerformanceLoggerEvent | undefined;\n  windowPerformanceProjectorLogger = (\n    eventType: PerformanceLoggerEvent,\n    trigger: Event | undefined\n  ) => {\n    performance.mark(eventType);\n    switch (eventType) {\n      case \"domEventProcessed\":\n        performance.measure(\"eventHandler\", \"domEvent\", \"domEventProcessed\");\n        break;\n      case \"renderDone\":\n        performance.measure(\"renderCycle\", \"renderStart\", \"renderDone\");\n        break;\n      case \"rendered\":\n        performance.measure(\"render\", lastMark, \"rendered\");\n        break;\n      case \"patched\":\n        performance.measure(\"diff+patch\", \"rendered\", \"patched\");\n        break;\n    }\n    lastMark = eventType;\n  };\n} else {\n  windowPerformanceProjectorLogger = () => undefined;\n}\n"]}