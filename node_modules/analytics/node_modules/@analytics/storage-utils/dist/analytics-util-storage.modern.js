import{get as t,GLOBAL as o,set as e,remove as r}from"@analytics/global-storage-utils";export{GLOBAL,globalContext}from"@analytics/global-storage-utils";import{hasCookies as n,COOKIE as a,getCookie as i,setCookie as s,removeCookie as l}from"@analytics/cookie-utils";export{COOKIE,getCookie,hasCookies,removeCookie,setCookie}from"@analytics/cookie-utils";import{hasLocalStorage as c,LOCAL_STORAGE as u}from"@analytics/localstorage-utils";export{LOCAL_STORAGE,hasLocalStorage}from"@analytics/localstorage-utils";import{hasSessionStorage as g,SESSION_STORAGE as f}from"@analytics/session-storage-utils";import{isObject as m,ANY as S,ALL as p,isUndefined as y,isString as I}from"@analytics/type-utils";export{ALL,ANY}from"@analytics/type-utils";function k(t){let o=t;try{if(o=JSON.parse(t),"true"===o)return!0;if("false"===o)return!1;if(m(o))return o;parseFloat(o)===o&&(o=parseFloat(o))}catch(t){}if(null!==o&&""!==o)return o}const v=c(),x=g(),C=n();function L(o,e){if(!o)return;const r=A(e),n=!E(r),a=d(r)?k(localStorage.getItem(o)):void 0;if(n&&!y(a))return a;const s=h(r)?k(i(o)):void 0;if(n&&s)return s;const l=N(r)?k(sessionStorage.getItem(o)):void 0;if(n&&l)return l;const c=t(o);return n?c:{localStorage:a,sessionStorage:l,cookie:s,global:c}}function O(r,n,l){if(!r||y(n))return;const c={},g=A(l),m=JSON.stringify(n),S=!E(g);return d(g)&&(c[u]=G(u,n,k(localStorage.getItem(r))),localStorage.setItem(r,m),S)?c[u]:h(g)&&(c[a]=G(a,n,k(i(r))),s(r,m),S)?c[a]:N(g)&&(c[f]=G(f,n,k(sessionStorage.getItem(r))),sessionStorage.setItem(r,m),S)?c[f]:(c[o]=G(o,n,t(r)),e(r,n),S?c[o]:c)}function b(t,e){if(!t)return;const n=A(e),i=L(t,p),s={};return!y(i.localStorage)&&d(n)&&(localStorage.removeItem(t),s[u]=i.localStorage),!y(i.cookie)&&h(n)&&(l(t),s[a]=i.cookie),!y(i.sessionStorage)&&N(n)&&(sessionStorage.removeItem(t),s[f]=i.sessionStorage),!y(i.global)&&F(n,o)&&(r(t),s[o]=i.global),s}function A(t){return t?I(t)?t:t.storage:S}function d(t){return v&&F(t,u)}function h(t){return C&&F(t,a)}function N(t){return x&&F(t,f)}function E(t){return t===p||"all"===t}function F(t,o){return t===S||t===o||E(t)}function G(t,o,e){return{location:t,current:o,previous:e}}var J={setItem:O,getItem:L,removeItem:b};export default J;export{L as getItem,b as removeItem,O as setItem};
//# sourceMappingURL=analytics-util-storage.modern.js.map
