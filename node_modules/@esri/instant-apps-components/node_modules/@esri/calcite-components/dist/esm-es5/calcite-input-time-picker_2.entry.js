var __awaiter=this&&this.__awaiter||function(e,t,i,n){function a(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n["throw"](e))}catch(e){r(e)}}function c(e){e.done?i(e.value):a(e.value).then(o,s)}c((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,a,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=o[0]&2?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;if(a=0,r)o=[o[0]&2,r.value];switch(o[0]){case 0:case 1:r=o;break;case 4:i.label++;return{value:o[1],done:false};case 5:i.label++;a=o[1];o=[0];continue;case 7:o=i.ops.pop();i.trys.pop();continue;default:if(!(r=i.trys,r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(o[0]===6&&i.label<r[1]){i.label=r[1];r=o;break}if(r&&i.label<r[2]){i.label=r[2];i.ops.push(o);break}if(r[2])i.ops.pop();i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e];a=0}finally{n=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from"./index-66803519.js";import{g as guid}from"./guid-196bd5ea.js";import{g as getKey,n as numberKeys,i as isActivationKey}from"./key-69001a68.js";import{i as isValidNumber}from"./number-e7393766.js";import{c as connectLabel,d as disconnectLabel,g as getLabelText}from"./label-5559055d.js";import"./dom-f24e866c.js";var maxTenthForMinuteAndSecond=5;function getMeridiem(e){if(!isValidNumber(e)){return null}var t=parseInt(e);return t>=0&&t<=11?"AM":"PM"}function getMeridiemHour(e){if(!isValidNumber(e)){return null}var t=parseInt(e);if(t===0){return"12"}return t>12?formatTimePart(t-12):e}function parseTimeString(e){var t=formatTimeString(e);var i=t?t.split(":"):[null,null,null],n=i[0],a=i[1],r=i[2];return{hour:n,minute:a,second:r||(n&&a?"00":null)}}function formatTimeString(e){if(!e||e.endsWith(":")||e.startsWith(":")){return null}var t=e.split(":");if(t.length>1){var i=t[0],n=t[1],a=t[2];var r=parseInt(t[0]);var o=parseInt(t[1]);var s=parseInt(t[2]);var c=isValidNumber(i)&&r>=0&&r<24;var u=isValidNumber(n)&&o>=0&&o<60;var l=isValidNumber(a)&&s>=0&&s<60;if(c&&u&&!a||c&&u&&l){var m=formatTimePart(r)+":"+formatTimePart(o);if(l){m=m+":"+formatTimePart(s)}return m}}return null}function formatTimePart(e){var t=e.toString();return e>=0&&e<=9?t.padStart(2,"0"):t}var calciteInputTimePickerCss="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}";var CalciteInputTimePicker=function(){function e(e){var t=this;registerInstance(this,e);this.calciteInputTimePickerChange=createEvent(this,"calciteInputTimePickerChange",7);this.active=false;this.disabled=false;this.hourDisplayFormat="12";this.scale="m";this.step=60;this.value=null;this.internalValueChange=false;this.previousValidValue=null;this.referenceElementId="input-time-picker-"+guid();this.calciteInputBlurHandler=function(){t.active=false;var e=formatTimeString(t.calciteInputEl.value)||formatTimeString(t.value);if(e!==t.calciteInputEl.value){t.setInputValue(e)}};this.calciteInputFocusHandler=function(){t.active=true};this.calciteInputInputHandler=function(e){t.setValue({value:e.detail.value})};this.setCalciteInputEl=function(e){t.calciteInputEl=e};this.setInputValue=function(e){if(!t.calciteInputEl){return}if(t.hourDisplayFormat==="12"){var i=parseTimeString(e),n=i.hour,a=i.minute,r=i.second;t.calciteInputEl.value=e?getMeridiemHour(n)+":"+a+(t.step!==60?":"+r:"")+" "+getMeridiem(n):null}else{t.calciteInputEl.value=e}};this.setValue=function(e){var i=e.value,n=e.origin,a=n===void 0?"input":n;var r=t.value;var o=formatTimeString(i);t.internalValueChange=a!=="external"&&a!=="loading";var s=a!=="loading"&&a!=="external"&&(i!==t.previousValidValue&&!i||!!(!t.previousValidValue&&o)||o!==t.previousValidValue&&o);if(i){if(s){t.previousValidValue=o}if(o&&o!==t.value){t.value=o}}else{t.value=i}if(a==="time-picker"||a==="external"){t.setInputValue(o)}if(s){var c=t.calciteInputTimePickerChange.emit();if(c.defaultPrevented){t.internalValueChange=false;t.value=r;t.setInputValue(r);t.previousValidValue=r}else{t.previousValidValue=o}}}}e.prototype.valueWatcher=function(e){if(!this.internalValueChange){this.setValue({value:e,origin:"external"})}this.internalValueChange=false};e.prototype.keyUpHandler=function(e){if(getKey(e.key)==="Escape"&&this.active){this.active=false}};e.prototype.timePickerBlurHandler=function(e){e.preventDefault();e.stopPropagation();this.active=false};e.prototype.timePickerChangeHandler=function(e){e.preventDefault();e.stopPropagation();if(e.detail){var t=e.detail,i=t.hour,n=t.minute,a=t.second;var r=void 0;if(i&&n){r=a&&this.step!==60?i+":"+n+":"+a:i+":"+n}else{r=""}this.setValue({value:r,origin:"time-picker"})}};e.prototype.timePickerFocusHandler=function(e){e.preventDefault();e.stopPropagation();this.active=true};e.prototype.setFocus=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.calciteInputEl.setFocus();return[2]}))}))};e.prototype.onLabelClick=function(){this.setFocus()};e.prototype.connectedCallback=function(){if(this.value){this.setValue({value:this.value,origin:"loading"})}connectLabel(this)};e.prototype.componentDidLoad=function(){if(this.calciteInputEl.value!==this.value){this.setInputValue(this.value)}};e.prototype.disconnectedCallback=function(){disconnectLabel(this)};e.prototype.render=function(){var e=parseTimeString(this.value),t=e.hour,i=e.minute,n=e.second;var a=this.referenceElementId+"-popover";return h(Host,null,h("div",{"aria-controls":a,"aria-haspopup":"dialog","aria-label":this.name,"aria-owns":a,id:this.referenceElementId,role:"combobox"},h("calcite-input",{disabled:this.disabled,icon:"clock",label:getLabelText(this),name:this.name,onCalciteInputBlur:this.calciteInputBlurHandler,onCalciteInputFocus:this.calciteInputFocusHandler,onCalciteInputInput:this.calciteInputInputHandler,ref:this.setCalciteInputEl,scale:this.scale,step:this.step})),h("calcite-popover",{id:a,label:"Time Picker",open:this.active||false,referenceElement:this.referenceElementId},h("calcite-time-picker",{hour:t,"hour-display-format":this.hourDisplayFormat,intlHour:this.intlHour,intlHourDown:this.intlHourDown,intlHourUp:this.intlHourUp,intlMeridiem:this.intlMeridiem,intlMeridiemDown:this.intlMeridiemDown,intlMeridiemUp:this.intlMeridiemUp,intlMinute:this.intlMinute,intlMinuteDown:this.intlMinuteDown,intlMinuteUp:this.intlMinuteUp,intlSecond:this.intlSecond,intlSecondDown:this.intlSecondDown,intlSecondUp:this.intlSecondUp,minute:i,scale:this.scale,second:n,step:this.step})))};Object.defineProperty(e.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{value:["valueWatcher"]}},enumerable:false,configurable:true});return e}();CalciteInputTimePicker.style=calciteInputTimePickerCss;var CSS={buttonBottomLeft:"button--bottom-left",buttonBottomRight:"button--bottom-right",button:"button",delimiter:"delimiter",hour:"hour",buttonHourDown:"button--hour-down",buttonHourUp:"button--hour-up",input:"input",meridiem:"meridiem",buttonMeridiemDown:"button--meridiem-down",buttonMeridiemUp:"button--meridiem-up",minute:"minute",buttonMinuteDown:"button--minute-down",buttonMinuteUp:"button--minute-up",second:"second",buttonSecondDown:"button--second-down",buttonSecondUp:"button--second-up",timePicker:"time-picker",buttonTopLeft:"button--top-left",buttonTopRight:"button--top-right"};var TEXT={hour:"Hour",hourDown:"Decrease hour",hourUp:"Increase hour",meridiem:"AM/PM",meridiemDown:"Decrease AM/PM",meridiemUp:"Increase AM/PM",minute:"Minute",minuteDown:"Decrease minute",minuteUp:"Increase minute",second:"Second",secondDown:"Decrease second",secondUp:"Increase second"};var calciteTimePickerCss='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{color:var(--calcite-ui-text-1);display:inline-block;font-weight:var(--calcite-font-weight-medium);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.time-picker{-webkit-box-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);box-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;border-radius:var(--calcite-border-radius)}span{-ms-flex-align:center;align-items:center;background-color:var(--calcite-ui-foreground-1);display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center}span.button{cursor:pointer}span.button:hover,span.button:focus{background-color:var(--calcite-ui-foreground-2)}span.button:focus{outline:2px solid transparent;outline-offset:2px}span.button:active{background-color:var(--calcite-ui-foreground-3)}span.button.top-left{border-top-left-radius:var(--calcite-border-radius)}span.button.bottom-left{border-bottom-left-radius:var(--calcite-border-radius)}span.button.top-right{border-top-right-radius:var(--calcite-border-radius)}span.button.bottom-right{border-bottom-right-radius:var(--calcite-border-radius)}span.button calcite-icon{color:var(--calcite-ui-text-3)}span.input{font-weight:var(--calcite-font-weight-medium);position:relative}span.input:hover{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-2);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-2)}span.input:focus,span.input:hover:focus{outline:2px solid transparent;outline-offset:2px;-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([scale=s]){font-size:var(--calcite-font-size--1)}:host([scale=s]) span{height:24px;width:40px}:host([scale=s]) .delimiter{height:72px}:host([scale=s][hour-display-format="12"]) .time-picker{width:124.2px}:host([scale=s][hour-display-format="12"]:not([step="60"])) .time-picker{width:168px}:host([scale=s][hour-display-format="24"]) .time-picker{width:84.2px}:host([scale=s][hour-display-format="24"]:not([step="60"])) .time-picker{width:128.4px}:host([scale=m]){font-size:var(--calcite-font-size-0)}:host([scale=m]) span{height:32px;width:44px}:host([scale=m]) .delimiter{height:96px}:host([scale=m][hour-display-format="12"]) .time-picker{width:136.8px}:host([scale=m][hour-display-format="12"]:not([step="60"])) .time-picker{width:186px}:host([scale=m][hour-display-format="24"]) .time-picker{width:92.8px}:host([scale=m][hour-display-format="24"]:not([step="60"])) .time-picker{width:141.6px}:host([scale=l]){font-size:var(--calcite-font-size-1)}:host([scale=l]) span{height:48px;width:64px}:host([scale=l]) .delimiter{height:144px}:host([scale=l][hour-display-format="12"]) .time-picker{width:198px}:host([scale=l][hour-display-format="12"]:not([step="60"])) .time-picker{width:268px}:host([scale=l][hour-display-format="24"]) .time-picker{width:134px}:host([scale=l][hour-display-format="24"]:not([step="60"])) .time-picker{width:204px}';var CalciteTimePicker=function(){function e(e){var t=this;registerInstance(this,e);this.calciteTimePickerBlur=createEvent(this,"calciteTimePickerBlur",7);this.calciteTimePickerChange=createEvent(this,"calciteTimePickerChange",7);this.calciteTimePickerFocus=createEvent(this,"calciteTimePickerFocus",7);this.hour=null;this.hourDisplayFormat="12";this.intlHour=TEXT.hour;this.intlHourDown=TEXT.hourDown;this.intlHourUp=TEXT.hourUp;this.intlMeridiem=TEXT.meridiem;this.intlMeridiemDown=TEXT.meridiemDown;this.intlMeridiemUp=TEXT.meridiemUp;this.intlMinute=TEXT.minute;this.intlMinuteDown=TEXT.minuteDown;this.intlMinuteUp=TEXT.minuteUp;this.intlSecond=TEXT.second;this.intlSecondDown=TEXT.secondDown;this.intlSecondUp=TEXT.secondUp;this.minute=null;this.second=null;this.scale="m";this.step=60;this.timeChanged=false;this.meridiem=null;this.displayHour=this.getDisplayHour();this.decrementHour=function(){var e=!t.hour?0:t.hour==="00"?23:parseInt(t.hour)-1;t.setTime("hour",e)};this.decrementMeridiem=function(){var e=t.meridiem==="PM"?"AM":"PM";t.setTime("meridiem",e)};this.decrementMinuteOrSecond=function(e){var i;if(isValidNumber(t[e])){var n=parseInt(t[e]);i=n===0?59:n-1}else{i=59}t.setTime(e,i)};this.decrementMinute=function(){t.decrementMinuteOrSecond("minute")};this.decrementSecond=function(){t.decrementMinuteOrSecond("second")};this.focusHandler=function(e){t.activeEl=e.currentTarget};this.hourDownButtonKeyDownHandler=function(e){if(t.buttonActivated(e)){t.decrementHour()}};this.hourKeyDownHandler=function(e){var i=getKey(e.key);if(numberKeys.includes(i)){var n=parseInt(i);var a=void 0;if(isValidNumber(t.hour)){switch(t.hourDisplayFormat){case"12":a=t.hour==="01"&&n>=0&&n<=2?"1"+n:n;break;case"24":if(t.hour==="01"){a="1"+n}else if(t.hour==="02"&&n>=0&&n<=3){a="2"+n}else{a=n}break}}else{a=n}t.setTime("hour",a)}else{switch(i){case"Backspace":case"Delete":t.setTime("hour",null);break;case"ArrowDown":e.preventDefault();t.decrementHour();break;case"ArrowUp":e.preventDefault();t.incrementHour();break;case" ":case"Spacebar":e.preventDefault();break}}};this.hourUpButtonKeyDownHandler=function(e){if(t.buttonActivated(e)){t.incrementHour()}};this.incrementMeridiem=function(){var e=t.meridiem==="AM"?"PM":"AM";t.setTime("meridiem",e)};this.incrementHour=function(){var e=isValidNumber(t.hour)?t.hour==="23"?0:parseInt(t.hour)+1:1;t.setTime("hour",e)};this.incrementMinuteOrSecond=function(e){var i=isValidNumber(t[e])?t[e]==="59"?0:parseInt(t[e])+1:0;t.setTime(e,i)};this.incrementMinute=function(){t.incrementMinuteOrSecond("minute")};this.incrementSecond=function(){t.incrementMinuteOrSecond("second")};this.meridiemDownButtonKeyDownHandler=function(e){if(t.buttonActivated(e)){t.decrementMeridiem()}};this.meridiemKeyDownHandler=function(e){switch(getKey(e.key)){case"a":t.setTime("meridiem","AM");break;case"p":t.setTime("meridiem","PM");break;case"Backspace":case"Delete":t.setTime("meridiem",null);break;case"ArrowUp":e.preventDefault();t.incrementMeridiem();break;case"ArrowDown":e.preventDefault();t.decrementMeridiem();break;case" ":case"Spacebar":e.preventDefault();break}};this.meridiemUpButtonKeyDownHandler=function(e){if(t.buttonActivated(e)){t.incrementMeridiem()}};this.minuteDownButtonKeyDownHandler=function(e){if(t.buttonActivated(e)){t.decrementMinute()}};this.minuteKeyDownHandler=function(e){var i=getKey(e.key);if(numberKeys.includes(i)){var n=parseInt(i);var a=void 0;if(isValidNumber(t.minute)&&t.minute.startsWith("0")){var r=parseInt(t.minute);a=r>maxTenthForMinuteAndSecond?n:""+r+n}else{a=n}t.setTime("minute",a)}else{switch(i){case"Backspace":case"Delete":t.setTime("minute",null);break;case"ArrowDown":e.preventDefault();t.decrementMinute();break;case"ArrowUp":e.preventDefault();t.incrementMinute();break;case" ":case"Spacebar":e.preventDefault();break}}};this.minuteUpButtonKeyDownHandler=function(e){if(t.buttonActivated(e)){t.incrementMinute()}};this.secondDownButtonKeyDownHandler=function(e){if(t.buttonActivated(e)){t.decrementSecond()}};this.secondKeyDownHandler=function(e){var i=getKey(e.key);if(numberKeys.includes(i)){var n=parseInt(i);var a=void 0;if(isValidNumber(t.second)&&t.second.startsWith("0")){var r=parseInt(t.second);a=r>maxTenthForMinuteAndSecond?n:""+r+n}else{a=n}t.setTime("second",a)}else{switch(i){case"Backspace":case"Delete":t.setTime("second",null);break;case"ArrowDown":e.preventDefault();t.decrementSecond();break;case"ArrowUp":e.preventDefault();t.incrementSecond();break;case" ":case"Spacebar":e.preventDefault();break}}};this.secondUpButtonKeyDownHandler=function(e){if(t.buttonActivated(e)){t.incrementSecond()}};this.setTime=function(e,i,n){if(n===void 0){n=true}switch(e){default:return;case"hour":t.hour=typeof i==="number"?formatTimePart(i):i;break;case"minute":t.minute=typeof i==="number"?formatTimePart(i):i;break;case"second":t.second=typeof i==="number"?formatTimePart(i):i;break;case"meridiem":if(isValidNumber(t.hour)){var a=parseInt(t.hour);switch(i){case"AM":if(a>=12){t.hour=formatTimePart(a-12)}break;case"PM":if(a<12){t.hour=formatTimePart(a+12)}break}t.meridiem=i}else{t.meridiem=i}break}t.timeChanged=true;if(n){t.calciteTimePickerChange.emit(t.getTime())}}}e.prototype.hourChanged=function(e){if(this.hourDisplayFormat==="12"&&isValidNumber(e)){this.meridiem=getMeridiem(e)}};e.prototype.timeChangeHandler=function(){var e=this.getTime(),t=e.hour,i=e.minute;if(!t&&!i){this.setTime("meridiem",null,false)}if(this.timeChanged){this.timeChanged=false}};e.prototype.hostBlurHandler=function(){this.calciteTimePickerBlur.emit()};e.prototype.hostFocusHandler=function(){this.calciteTimePickerFocus.emit()};e.prototype.keyDownHandler=function(e){var t=getKey(e.key);switch(this.activeEl){case this.hourEl:if(t==="ArrowRight"){this.setFocus("minute")}break;case this.minuteEl:switch(t){case"ArrowLeft":this.setFocus("hour");break;case"ArrowRight":if(this.step!==60){this.setFocus("second")}else if(this.hourDisplayFormat==="12"){this.setFocus("meridiem")}break}break;case this.secondEl:switch(t){case"ArrowLeft":this.setFocus("minute");break;case"ArrowRight":if(this.hourDisplayFormat==="12"){this.setFocus("meridiem")}break}break;case this.meridiemEl:switch(t){case"ArrowLeft":if(this.step!==60){this.setFocus("second")}else{this.setFocus("minute")}break}break}};e.prototype.setFocus=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){(t=this[(e||"hour")+"El"])===null||t===void 0?void 0:t.focus();return[2]}))}))};e.prototype.buttonActivated=function(e){var t=getKey(e.key);if(t===" "){e.preventDefault()}return isActivationKey(t)};e.prototype.getDisplayHour=function(){if(!this.hour){return"--"}if(this.hourDisplayFormat==="12"){return getMeridiemHour(this.hour)}return this.hour};e.prototype.getTime=function(){return{hour:this.hour,minute:this.minute,second:this.second}};e.prototype.connectedCallback=function(){if(this.hourDisplayFormat==="12"){this.meridiem=getMeridiem(this.hour)}if(isValidNumber(this.hour)){this.hour=formatTimePart(parseInt(this.hour))}if(isValidNumber(this.minute)){this.minute=formatTimePart(parseInt(this.minute))}if(isValidNumber(this.second)){this.second=formatTimePart(parseInt(this.second))}};e.prototype.render=function(){var e,t,i,n,a,r,o,s,c,u,l,m;var p=this;var d=this.scale==="s"||this.scale==="m"?"s":"m";var f=this.step!==60;var b=isValidNumber(this.hour);var v=isValidNumber(this.minute);var w=isValidNumber(this.second);return h(Host,null,h("div",{class:CSS.timePicker},h("div",{role:"group"},h("span",{"aria-label":this.intlHourUp,class:(e={},e[CSS.button]=true,e[CSS.buttonHourUp]=true,e[CSS.buttonTopLeft]=true,e),onClick:this.incrementHour,onKeyDown:this.hourUpButtonKeyDownHandler,role:"button",tabIndex:-1},h("calcite-icon",{icon:"chevron-up",scale:d})),h("span",{"aria-label":this.intlHour,"aria-valuemax":"23","aria-valuemin":"1","aria-valuenow":b&&parseInt(this.hour),"aria-valuetext":this.hour,class:(t={},t[CSS.input]=true,t[CSS.hour]=true,t),onFocus:this.focusHandler,onKeyDown:this.hourKeyDownHandler,ref:function(e){return p.hourEl=e},role:"spinbutton",tabIndex:0},this.getDisplayHour()),h("span",{"aria-label":this.intlHourDown,class:(i={},i[CSS.button]=true,i[CSS.buttonHourDown]=true,i[CSS.buttonBottomLeft]=true,i),onClick:this.decrementHour,onKeyDown:this.hourDownButtonKeyDownHandler,role:"button",tabIndex:-1},h("calcite-icon",{icon:"chevron-down",scale:d}))),h("span",{class:CSS.delimiter},":"),h("div",{role:"group"},h("span",{"aria-label":this.intlMinuteUp,class:(n={},n[CSS.button]=true,n[CSS.buttonMinuteUp]=true,n),onClick:this.incrementMinute,onKeyDown:this.minuteUpButtonKeyDownHandler,role:"button",tabIndex:-1},h("calcite-icon",{icon:"chevron-up",scale:d})),h("span",{"aria-label":this.intlMinute,"aria-valuemax":"12","aria-valuemin":"1","aria-valuenow":v&&parseInt(this.minute),"aria-valuetext":this.minute,class:(a={},a[CSS.input]=true,a[CSS.minute]=true,a),onFocus:this.focusHandler,onKeyDown:this.minuteKeyDownHandler,ref:function(e){return p.minuteEl=e},role:"spinbutton",tabIndex:0},this.minute?this.minute:"--"),h("span",{"aria-label":this.intlMinuteDown,class:(r={},r[CSS.button]=true,r[CSS.buttonMinuteDown]=true,r),onClick:this.decrementMinute,onKeyDown:this.minuteDownButtonKeyDownHandler,role:"button",tabIndex:-1},h("calcite-icon",{icon:"chevron-down",scale:d}))),f&&h("span",{class:CSS.delimiter},":"),f&&h("div",{role:"group"},h("span",{"aria-label":this.intlSecondUp,class:(o={},o[CSS.button]=true,o[CSS.buttonSecondUp]=true,o),onClick:this.incrementSecond,onKeyDown:this.secondUpButtonKeyDownHandler,role:"button",tabIndex:-1},h("calcite-icon",{icon:"chevron-up",scale:d})),h("span",{"aria-label":this.intlSecond,"aria-valuemax":"59","aria-valuemin":"0","aria-valuenow":w&&parseInt(this.second),"aria-valuetext":this.second,class:(s={},s[CSS.input]=true,s[CSS.second]=true,s),onFocus:this.focusHandler,onKeyDown:this.secondKeyDownHandler,ref:function(e){return p.secondEl=e},role:"spinbutton",tabIndex:0},this.second?this.second:"--"),h("span",{"aria-label":this.intlSecondDown,class:(c={},c[CSS.button]=true,c[CSS.buttonSecondDown]=true,c),onClick:this.decrementSecond,onKeyDown:this.secondDownButtonKeyDownHandler,role:"button",tabIndex:-1},h("calcite-icon",{icon:"chevron-down",scale:d}))),this.hourDisplayFormat==="12"&&h("div",{role:"group"},h("span",{"aria-label":this.intlMeridiemUp,class:(u={},u[CSS.button]=true,u[CSS.buttonMeridiemUp]=true,u[CSS.buttonTopRight]=true,u),onClick:this.incrementMeridiem,onKeyDown:this.meridiemUpButtonKeyDownHandler,role:"button",tabIndex:-1},h("calcite-icon",{icon:"chevron-up",scale:d})),h("span",{"aria-label":this.intlMeridiem,"aria-valuemax":"2","aria-valuemin":"1","aria-valuenow":this.meridiem==="AM"?"1":this.meridiem==="PM"?"2":undefined,"aria-valuetext":this.meridiem,class:(l={},l[CSS.input]=true,l[CSS.meridiem]=true,l),onFocus:this.focusHandler,onKeyDown:this.meridiemKeyDownHandler,ref:function(e){return p.meridiemEl=e},role:"spinbutton",tabIndex:0},this.meridiem?this.meridiem:"--"),h("span",{"aria-label":this.intlMeridiemDown,class:(m={},m[CSS.button]=true,m[CSS.buttonMeridiemDown]=true,m[CSS.buttonBottomRight]=true,m),onClick:this.decrementMeridiem,onKeyDown:this.meridiemDownButtonKeyDownHandler,role:"button",tabIndex:-1},h("calcite-icon",{icon:"chevron-down",scale:d})))))};Object.defineProperty(e.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{hour:["hourChanged","timeChangeHandler"],minute:["timeChangeHandler"],second:["timeChangeHandler"]}},enumerable:false,configurable:true});return e}();CalciteTimePicker.style=calciteTimePickerCss;export{CalciteInputTimePicker as calcite_input_time_picker,CalciteTimePicker as calcite_time_picker};