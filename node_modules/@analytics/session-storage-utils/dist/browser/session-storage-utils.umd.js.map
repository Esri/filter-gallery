{"version":3,"file":"session-storage-utils.umd.js","sources":["../../../analytics-util-types/dist/analytics-util-types.module.js","../../../analytics-util-storage-global/dist/analytics-util-global-storage.module.js","../../src/index.js"],"sourcesContent":["var n,e=\"function\",t=\"string\",o=\"undefined\",r=\"boolean\",i=\"object\",u=\"array\",c=\"number\",a=function(){},f=\"any\",l=\"*\",s=\"none\",d=\"hidden\",p=\"__\",y=\"form\",g=\"input\",b=\"button\",m=\"select\",v=\"change\",j=\"submit\",h=\"undefined\"!=typeof process?process:{},A=(null==(n=h.env)?void 0:n.NODE_ENV)||\"\",O=\"production\"===A,w=\"staging\"===A,Z=\"development\"===A,z=\"undefined\"!=typeof window,N=z&&\"localhost\"===window.location.hostname,P=null!=h.versions&&null!=h.versions.node,S=\"undefined\"!=typeof Deno&&void 0!==Deno.core,D=\"object\"==typeof self&&self.constructor&&\"DedicatedWorkerGlobalScope\"===self.constructor.name,E=z&&\"nodejs\"===window.name||\"undefined\"!=typeof navigator&&(navigator.userAgent.includes(\"Node.js\")||navigator.userAgent.includes(\"jsdom\"));function C(n,e){return typeof e===n}var _=C.bind(null,\"function\"),L=C.bind(null,\"string\"),$=C.bind(null,\"undefined\"),x=C.bind(null,\"boolean\");function F(n){return null===n}function T(n){return!isNaN(parseFloat(n))}function k(n){return!!_(n)&&/^class /.test(Function.prototype.toString.call(n))}function G(n){return\"[object Array]\"===Object.prototype.toString.call(n)}function H(n){return n&&(\"object\"==typeof n||null!==n)}function M(n){if(!H(n))return!1;for(var e=n;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function R(n){if(F(n))return!0;switch(typeof n){case\"string\":case\"number\":case\"symbol\":case\"undefined\":case\"boolean\":return!0;default:return!1}}function U(n){return!!n&&!!(!$(Promise)&&n instanceof Promise||n.then&&_(n.then))}function V(n){return n instanceof RegExp}function W(n){return H(n)&&L(n.message)&&L(n.name)}function q(n){if(!_(n))return!1;var e=/{(\\r|\\n|\\s)*}/gm,t=a+\"\";return t===(n.toString().match(e)||[\"\"])[0].replace(e,t)}function B(n){return!(L(n)&&\"false\"===n.toLowerCase()||!n)}function I(n){return!(n.length>320)&&/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)}function J(n){return/^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$/.test(n)}function K(n){return NodeList.prototype.isPrototypeOf(n)}function Q(n,e){var t=n instanceof Element||n instanceof HTMLDocument;return t&&e?X(n,e):t}function X(n,e){return void 0===e&&(e=\"\"),n&&n.nodeName===e.toUpperCase()}function Y(n){return function(){return n.apply(void 0,[].slice.call(arguments).concat([].slice.call(arguments,1)))}}var nn=Y(Q),en=Y(Q),tn=Y(Q),on=Y(Q);function rn(n,e){if(!n||\"hidden\"===getComputedStyle(n).visibility)return!0;for(;n;){if(null!=e&&n===e)return!1;if(\"none\"===getComputedStyle(n).display)return!0;n=n.parentElement}return!1}export{l as ALL,f as ANY,u as ARRAY,r as BOOLEAN,b as BUTTON,v as CHANGE,A as ENV,y as FORM,e as FUNCTION,d as HIDDEN,g as INPUT,s as NONE,c as NUMBER,i as OBJECT,p as PREFIX,m as SELECT,t as STRING,j as SUBMIT,o as UNDEFINED,G as isArray,x as isBoolean,z as isBrowser,en as isButton,k as isClass,S as isDeno,Z as isDev,Q as isElement,I as isEmail,W as isErrorLike,nn as isForm,_ as isFunction,rn as isHidden,tn as isInput,J as isIsoDate,E as isJsDom,N as isLocalHost,q as isNoOp,P as isNode,K as isNodeList,X as isNodeType,F as isNull,T as isNumber,M as isObject,H as isObjectLike,R as isPrimitive,O as isProd,U as isPromise,V as isRegex,on as isSelect,w as isStaging,L as isString,B as isTruthy,$ as isUndefined,D as isWebWorker,a as noOp,C as typeOf};\n//# sourceMappingURL=analytics-util-types.module.js.map\n","import{PREFIX as t,OBJECT as e,UNDEFINED as r}from\"@analytics/type-utils\";var l=\"global\",o=t+\"global\"+t,n=typeof self===e&&self.self===self&&self||typeof global===e&&global.global===global&&global||void 0;function a(t){return n[o][t]}function f(t,e){return n[o][t]=e}function i(t){delete n[o][t]}function u(t,e,r){var l;try{if(b(t)){var o=window[t];l=o[e].bind(o)}}catch(t){}return l||r}n[o]||(n[o]={});var c={};function b(t){if(typeof c[t]!==r)return c[t];try{var e=window[t];e.setItem(r,r),e.removeItem(r)}catch(e){return c[t]=!1}return c[t]=!0}export{l as GLOBAL,o as KEY,a as get,n as globalContext,b as hasSupport,i as remove,f as set,u as wrap};\n//# sourceMappingURL=analytics-util-global-storage.module.js.map\n","import { get, set, remove, hasSupport, wrap } from '@analytics/global-storage-utils'\n\nconst SESSION_STORAGE = 'sessionStorage'\n\n/**\n * Check if browser has access to sessionStorage\n * @returns {Boolean}\n */\nconst hasSessionStorage = hasSupport.bind(null, SESSION_STORAGE)\n\n/**\n * Get value from sessionStorage or fallback to global window\n * @param {string} key - Key of value to get\n * @returns {*} value\n */\nconst getSessionItem = wrap(SESSION_STORAGE, 'getItem', get)\n\n/**\n * Set value to sessionStorage or fallback to global window\n * @param {string} key - Key of value to set\n * @param {*} value \n * @returns value\n */\nconst setSessionItem = wrap(SESSION_STORAGE, 'setItem', set)\n\n/**\n * Remove value from sessionStorage or fallback to global window\n * @param {string} key - Key of value to remove\n */\nconst removeSessionItem = wrap(SESSION_STORAGE, 'removeItem', remove)\n\nexport {\n  SESSION_STORAGE,\n  hasSessionStorage,\n  getSessionItem,\n  setSessionItem,\n  removeSessionItem\n}"],"names":["UNDEFINED","OBJECT","process","isBrowser","window","typeOf","type","val","Deno","name","navigator","userAgent","includes","bind","KEY","PREFIX","globalContext","self","global","wrap","operation","fallback","fn","hasSupport","storage","e","cache","setItem","removeItem","err","SESSION_STORAGE","hasSessionStorage","getSessionItem","this","key","setSessionItem","value","removeSessionItem"],"mappings":"gPAOaA,EAAY,YAEZC,EAAS,SAFG,oBAwBFC,SAAwBA,YAelCC,EAvCY,oBAuCOC,OAc8I,SAM9JC,EAAOC,EAAMC,GAC3B,cAAcA,IAAQD,EA5DC,oBA+CIE,MAA6BA,KAMlCL,GAA6B,WAAhBC,OAAOK,MArDnB,oBAqDiDC,YAA4BA,UAAUC,UAAUC,SAAS,YAAcF,UAAUC,UAAUC,SAAS,UAepJP,EAAOQ,KAAK,KAtEd,YA6EAR,EAAOQ,KAAK,KA5Ed,UAmFKR,EAAOQ,KAAK,KAlFd,aAwFAR,EAAOQ,KAAK,KAvFd,eCJVC,EAAMC,aAENC,SAAwBC,OAAShB,GAAUgB,KAAKA,OAASA,MAAQA,aAAiBC,SAAWjB,GAAUiB,OAAMA,SAAaA,QAAUA,aAAAA,WAuCjIC,EAAKb,EAAMc,EAAWC,GACpC,IAAIC,EACJ,IACE,GAAIC,EAAWjB,GAAO,CACpB,IAAMkB,EAAUpB,OAAOE,GACvBgB,EAAKE,EAAQJ,GAAWP,KAAKW,UAEzBC,WACDH,GAAMD,EA5CVL,EAAcF,KACjBE,EAAcF,GAAO,IA8CvB,IAAMY,EAAQ,GAAA,SACEH,EAAWjB,GACzB,UAAWoB,EAAMpB,KAAUN,EACzB,OAAO0B,EAAMpB,GAEf,IACE,IAAMkB,EAAUpB,OAAOE,GAEvBkB,EAAQG,QAAQ3B,EAAWA,GAC3BwB,EAAQI,WAAW5B,SACZ6B,GACP,OAAOH,EAAMpB,IAAAA,SAERoB,EAAMpB,IAAAA,MCnETwB,EAAkB,iBAMlBC,EAAoBR,EAAWV,KAAK,KAAMiB,GAO1CE,EAAiBb,EAAKW,EAAiB,UDT+GG,SAWxIC,GAClB,OAAOlB,EAAcF,GAAKoB,KCKtBC,EAAiBhB,EAAKW,EAAiB,mBDIzBI,EAAKE,GACvB,OAAOpB,EAAcF,GAAKoB,GAAOE,ICC7BC,EAAoBlB,EAAKW,EAAiB,sBDMzBI,UACdlB,EAAcF,GAAKoB"}