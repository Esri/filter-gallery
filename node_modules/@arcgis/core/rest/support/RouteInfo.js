/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{_ as t}from"../../chunks/tslib.es6.js";import e from"../../PopupTemplate.js";import{symbolTypes as i}from"../../symbols.js";import{JSONSupport as s}from"../../core/JSONSupport.js";import{isSome as a,unwrap as l}from"../../core/maybe.js";import{property as o}from"../../core/accessorSupport/decorators/property.js";import"../../core/arrayUtils.js";import"../../core/has.js";import"../../core/accessorSupport/ensureType.js";import{reader as r}from"../../core/accessorSupport/decorators/reader.js";import{subclass as n}from"../../core/accessorSupport/decorators/subclass.js";import u from"../../geometry/Polyline.js";import{getTimezoneOffset as p,getPrefixedProperties as m}from"../route/utils.js";import d from"./RouteSettings.js";import{fromJSON as b}from"../../symbols/support/jsonUtils.js";var T;let f=T=class extends s{constructor(t){super(t),this.analysisSettings=null,this.endTime=null,this.endTimeOffset=null,this.firstStopId=null,this.geometry=null,this.lastStopId=null,this.messages=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.startTime=null,this.startTimeOffset=null,this.stopCount=null,this.symbol=null,this.totalCosts=null,this.totalDistance=null,this.totalDuration=null,this.totalLateDuration=null,this.totalViolations=null,this.totalWait=null,this.totalWaitDuration=null,this.version="1.0.0"}readEndTime(t,e){return a(e.attributes.EndTimeUTC)?new Date(e.attributes.EndTimeUTC):null}readEndTimeOffset(t,e){return p(e.attributes.EndTime,e.attributes.EndTimeUTC)}readStartTime(t,e){return a(e.attributes.StartTimeUTC)?new Date(e.attributes.StartTimeUTC):null}readStartTimeOffset(t,e){return p(e.attributes.StartTime,e.attributes.StartTimeUTC)}readTotalCosts(t,e){return m(e.attributes,"Total_")}readTotalViolations(t,e){return m(e.attributes,"TotalViolation_")}readTotalWait(t,e){return m(e.attributes,"TotalWait_")}static fromPortalJSON(t){var i,s,l,o,r,n;return new T({analysisSettings:a(t.attributes.AnalysisSettings)?d.fromJSON(JSON.parse(t.attributes.AnalysisSettings)):null,endTime:a(t.attributes.EndTime)?new Date(t.attributes.EndTime):null,endTimeOffset:null!=(i=t.attributes.EndUTCOffset)?i:null,geometry:u.fromJSON(t.geometry),messages:a(t.attributes.Messages)?JSON.parse(t.attributes.Messages):null,name:t.attributes.RouteName,objectId:t.attributes.__OBJECTID,popupTemplate:a(t.popupInfo)?e.fromJSON(t.popupInfo):null,startTime:a(t.attributes.StartTime)?new Date(t.attributes.StartTime):null,startTimeOffset:null!=(s=t.attributes.StartUTCOffset)?s:null,symbol:a(t.symbol)?b(t.symbol):null,totalCosts:a(t.attributes.TotalCosts)?JSON.parse(t.attributes.TotalCosts):null,totalDistance:null!=(l=t.attributes.TotalMeters)?l:null,totalDuration:null!=(o=t.attributes.TotalMinutes)?o:null,totalLateDuration:null!=(r=t.attributes.TotalLateMinutes)?r:null,totalWaitDuration:null!=(n=t.attributes.TotalWaitMinutes)?n:null,version:t.attributes.Version})}toPortalJSON(){return{geometry:a(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:l(this.objectId),AnalysisSettings:a(this.analysisSettings)?JSON.stringify(this.analysisSettings.toJSON()):null,EndTime:a(this.endTime)?this.endTime.getTime():null,EndUTCOffset:this.endTimeOffset,Messages:a(this.messages)?JSON.stringify(this.messages):null,RouteName:l(this.name),StartTime:a(this.startTime)?this.startTime.getTime():null,StartUTCOffset:this.startTimeOffset,TotalCosts:a(this.totalCosts)?JSON.stringify(this.totalCosts):null,TotalLateMinutes:this.totalLateDuration,TotalMeters:this.totalDistance,TotalMinutes:this.totalDuration,TotalWaitMinutes:this.totalWaitDuration,Version:l(this.version)},symbol:a(this.symbol)?this.symbol.toJSON():null,popupInfo:a(this.popupTemplate)?this.popupTemplate.toJSON():null}}};f.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"AnalysisSettings",alias:"Analysis Settings",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"EndTime",alias:"End Time",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"EndUTCOffset",alias:"End Time: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"Messages",alias:"Analysis Messages",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString",length:1024,editable:!0,nullable:!0,visible:!0,domain:null},{name:"StartTime",alias:"Start Time",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"StartUTCOffset",alias:"Start Time: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"TotalCosts",alias:"Total Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"TotalLateMinutes",alias:"Total Late Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"TotalMeters",alias:"Total Meters",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"TotalMinutes",alias:"Total Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"TotalWaitMinutes",alias:"Total Wait Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"Version",alias:"Version",type:"esriFieldTypeString",length:16,editable:!0,nullable:!0,visible:!0,domain:null}],f.popupInfo={title:"Route Details",fieldInfos:[{fieldName:"RouteName",label:"Route Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"TotalMinutes",label:"Total Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalMeters",label:"Total Meters",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalLateMinutes",label:"Total Late Minutes",isEditable:!1,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalWaitMinutes",label:"Total Wait Minutes",isEditable:!1,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalCosts",label:"Total Costs",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"StartTime",label:"Start Time",isEditable:!1,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"StartUTCOffset",label:"Start Time: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"EndTime",label:"End Time",isEditable:!1,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"EndUTCOffset",label:"End Time: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Messages",label:"Analysis Messages",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"AnalysisSettings",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"Version",label:"Version",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},t([o({json:{read:!1}})],f.prototype,"analysisSettings",void 0),t([o()],f.prototype,"endTime",void 0),t([r("endTime",["attributes.EndTimeUTC"])],f.prototype,"readEndTime",null),t([o()],f.prototype,"endTimeOffset",void 0),t([r("endTimeOffset",["attributes.EndTime","attributes.EndTimeUTC"])],f.prototype,"readEndTimeOffset",null),t([o({json:{read:{source:"attributes.FirstStopID"}}})],f.prototype,"firstStopId",void 0),t([o({type:u})],f.prototype,"geometry",void 0),t([o({json:{read:{source:"attributes.LastStopID"}}})],f.prototype,"lastStopId",void 0),t([o({json:{read:!1}})],f.prototype,"messages",void 0),t([o({json:{read:{source:"attributes.Name"}}})],f.prototype,"name",void 0),t([o({json:{read:{source:"attributes.ObjectID"}}})],f.prototype,"objectId",void 0),t([o({type:e,json:{read:!1}})],f.prototype,"popupTemplate",void 0),t([o()],f.prototype,"startTime",void 0),t([r("startTime",["attributes.StartTimeUTC"])],f.prototype,"readStartTime",null),t([o()],f.prototype,"startTimeOffset",void 0),t([r("startTimeOffset",["attributes.StartTime","attributes.StartTimeUTC"])],f.prototype,"readStartTimeOffset",null),t([o({json:{read:{source:"attributes.StopCount"}}})],f.prototype,"stopCount",void 0),t([o({types:i,json:{read:!1}})],f.prototype,"symbol",void 0),t([o()],f.prototype,"totalCosts",void 0),t([r("totalCosts",["attributes"])],f.prototype,"readTotalCosts",null),t([o({json:{read:!1}})],f.prototype,"totalDistance",void 0),t([o({json:{read:!1}})],f.prototype,"totalDuration",void 0),t([o({json:{read:!1}})],f.prototype,"totalLateDuration",void 0),t([o()],f.prototype,"totalViolations",void 0),t([r("totalViolations",["attributes"])],f.prototype,"readTotalViolations",null),t([o()],f.prototype,"totalWait",void 0),t([r("totalWait",["attributes"])],f.prototype,"readTotalWait",null),t([o({json:{read:!1}})],f.prototype,"totalWaitDuration",void 0),t([o({json:{read:!1}})],f.prototype,"version",void 0),f=T=t([n("esri.rest.support.RouteInfo")],f);const y=f;export{y as default};
