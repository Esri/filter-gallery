/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import e from"../request.js";function n(n,o,r,t,s=null){if(null!==s)return s.getToken().then((s=>{if(n=n+="?token="+s,"get"===t.toLowerCase())return e(n,{responseType:"json",query:o});if(o)for(const e in o)n.indexOf("?")>-1?n+="&":n+="?",n+=encodeURIComponent(e)+"="+encodeURIComponent(o[e]);return e(n,{method:"post",query:r,responseType:"json"})}));if("get"===t.toLowerCase())return e(n,{responseType:"json",query:o});if(o)for(const e in o)n.indexOf("?")>-1?n+="&":n+="?",n+=encodeURIComponent(e)+"="+encodeURIComponent(o[e]);return e(n,{method:"post",responseType:"json",query:r})}export{n as serviceRequest};
