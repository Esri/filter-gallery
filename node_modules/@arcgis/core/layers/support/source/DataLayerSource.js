/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{_ as e}from"../../../chunks/tslib.es6.js";import{strict as r}from"../../../core/jsonMap.js";import{JSONSupport as o}from"../../../core/JSONSupport.js";import{property as t}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/arrayUtils.js";import"../../../core/has.js";import{cast as a}from"../../../core/accessorSupport/decorators/cast.js";import{enumeration as s}from"../../../core/accessorSupport/decorators/enumeration.js";import{reader as l}from"../../../core/accessorSupport/decorators/reader.js";import{subclass as p}from"../../../core/accessorSupport/decorators/subclass.js";import{ensureType as i,ensureOneOfType as c}from"../../../core/accessorSupport/ensureType.js";import{createTypeReader as u}from"../../../core/accessorSupport/extensions/serializableProperty/reader.js";import n from"../Field.js";import{MapLayerSource as y}from"./MapLayerSource.js";import{QueryTableDataSource as b}from"./QueryTableDataSource.js";import{RasterDataSource as S}from"./RasterDataSource.js";import{TableDataSource as d}from"./TableDataSource.js";var f,m;const j=r()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let T=f=class extends o{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,r,o){return v()(e,r,o)}castLeftTableSource(e){return c(L(),e)}readRightTableSource(e,r,o){return v()(e,r,o)}castRightTableSource(e){return c(L(),e)}clone(){var e,r;const{leftTableKey:o,rightTableKey:t,leftTableSource:a,rightTableSource:s,joinType:l}=this,p={leftTableKey:o,rightTableKey:t,leftTableSource:null!=(e=null==a?void 0:a.clone())?e:void 0,rightTableSource:null!=(r=null==s?void 0:s.clone())?r:void 0,joinType:l};return new f(p)}};e([s({joinTable:"join-table"})],T.prototype,"type",void 0),e([t({type:String,json:{write:!0}})],T.prototype,"leftTableKey",void 0),e([t({type:String,json:{write:!0}})],T.prototype,"rightTableKey",void 0),e([t({json:{write:!0}})],T.prototype,"leftTableSource",void 0),e([l("leftTableSource")],T.prototype,"readLeftTableSource",null),e([a("leftTableSource")],T.prototype,"castLeftTableSource",null),e([t({json:{write:!0}})],T.prototype,"rightTableSource",void 0),e([l("rightTableSource")],T.prototype,"readRightTableSource",null),e([a("rightTableSource")],T.prototype,"castRightTableSource",null),e([s(j)],T.prototype,"joinType",void 0),T=f=e([p("esri.layers.support.source.JoinTableDataSource")],T);let h=null;function v(){return h||(h=u({types:L()})),h}let g=null;function L(){return g||(g={key:"type",base:null,typeMap:{"data-layer":K,"map-layer":y}}),g}const w={key:"type",base:null,typeMap:{"join-table":T,"query-table":b,raster:S,table:d}};let K=m=class extends o{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:r}=this;return new m({fields:e,dataSource:r})}};e([s({dataLayer:"data-layer"})],K.prototype,"type",void 0),e([t({type:[n],json:{write:!0}})],K.prototype,"fields",void 0),e([t({types:w,json:{write:!0}})],K.prototype,"dataSource",void 0),K=m=e([p("esri.layers.support.source.DataLayerSource")],K),K.from=i(K);export{K as DataLayerSource,T as JoinTableDataSource};
