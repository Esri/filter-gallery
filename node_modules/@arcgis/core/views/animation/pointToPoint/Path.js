/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{Seconds as t}from"../../../core/time.js";class e{constructor(){this.segments=[]}get time(){return this.segments.reduce(((e,o)=>t(e+o.time)),t(0))}interpolateComponentsAt(t,e){t=Math.min(Math.max(t,0),1),t*=this.time;let o=0,n=0;const s=this.definition;for(let m=0;m<this.segments.length;m++){const a=this.segments[m],r=a.definition;if(t<=a.time||m===this.segments.length-1){e=this.segmentInterpolateComponentsAt(a,t/a.time,e),s.hasPan?e.pan=(o+r.compared.pan*e.pan)/s.compared.pan:e.pan=1,s.hasRotate?e.rotate=(n+r.compared.rotate*e.rotate)/s.compared.rotate:e.rotate=1;const m=e.zoom*(r.compared.targetZoom-r.compared.sourceZoom)+r.compared.sourceZoom,i=this.segments[0].definition.compared.sourceZoom,p=this.segments[this.segments.length-1].definition.compared.targetZoom;return s.hasZoom?e.zoom=(m-i)/(p-i):e.zoom=1,e}t-=a.time,o+=r.compared.pan,n+=r.compared.rotate}}segmentInterpolateComponentsAt(t,e,o){return t.interpolateComponentsAt(e,o)}}export{e as Path,e as default};
