/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{s as t,b as n,a as e,h as r,d as o,i as s,c as i,n as u,g as f}from"../../../../chunks/vec3.js";import{c as a}from"../../../../chunks/vec3f64.js";import{geodesicArea as c}from"../../../../geometry/geometryEngine.js";import l from"../../../../geometry/Polygon.js";import{projectPointToVector as m,projectPointToWGS84ComparableLonLat as g,projectVectorToWGS84ComparableLonLat as h}from"../../../../geometry/projection.js";import p from"../../../../geometry/SpatialReference.js";import{inverseGeodeticSolver as j}from"../../../../geometry/support/geodesicUtils.js";import{planeFromPoints as d}from"../../support/mathUtils.js";function y(o,s){const i=s.center;t(i,0,0,0);for(let t=0;t<o.length;++t)n(i,i,o[t]);e(i,i,1/o.length);let u=0;for(let t=0;t<o.length;++t)u=Math.max(u,r(i,o[t]));s.radius=Math.sqrt(u)}function b(t,n){if(t.length<3)throw new Error("need at least 3 points to fit a plane");d(t[0],t[1],t[2],n)}function M(t,n){return o(t,n)+t[3]}function P(t,n,e){return m(t,S,e)&&m(n,U,e)?s(S,U):0}function w(t,n){if(!g(t,S)||!g(n,U))return 0;const e={distance:null};return j(e,[S[0],S[1]],[U[0],U[1]]),e.distance}function k(t,n,e){const r={distance:null};return j(r,[t[0],t[1]],[n[0],n[1]],e),r.distance}function q(t,n,e){const r=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],i=e[1]-t[1];return.5*Math.abs(r*i-o*s)}function v(t,n,e,r){const o=T;return h(t,r,S)&&h(n,r,U)&&h(e,r,G)?(o.setPoint(0,0,S),o.setPoint(0,1,U),o.setPoint(0,2,G),Math.abs(c(o,"square-meters"))):0}function x(n,e,r){Math.abs(n[0])>Math.abs(n[1])?t(e,0,1,0):t(e,1,0,0),i(r,n,e),u(e,e),i(e,r,n),u(r,r)}function E(e,r=null,s=!0){const a=1e-6,c=(t,n)=>{if(0===n[0]&&0===n[1]&&0===n[2])return!1;for(let e=0;e<t.length;++e)if(o(n,t[e])<-a)return!1;return!0};if(0===e.length)return!1;if(1===e.length)return r&&f(r,e[0]),!0;t(W,0,0,0);for(let t=0;t<e.length;++t)n(W,W,e[t]);if(u(W,W),c(e,W))return r&&f(r,W),!0;if(!s)return!1;for(let t=0;t<e.length;++t)for(let n=0;n<e.length;++n)if(t!==n&&(i(W,e[t],e[n]),u(W,W),c(e,W)))return r&&f(r,W),!0;return!1}function R(t){return"mouse"!==t.pointerType||0===t.button}const S=a(),U=a(),G=a(),T=new l({rings:[[S,U,G]],spatialReference:p.WGS84}),W=a();export{b as bestFitPlane,y as boundingSphere,E as fitHemisphere,R as isPrimaryPointerAction,M as planePointDistance,P as segmentLengthEuclidean,w as segmentLengthGeodesic,k as segmentLengthGeodesicVector,x as tangentFrame,q as triangleAreaEuclidean,v as triangleAreaGeodesic};
