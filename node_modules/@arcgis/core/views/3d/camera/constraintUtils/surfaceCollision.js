/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{l as e,f as E,b as t,a as n}from"../../../../chunks/vec3.js";import{c as r}from"../../../../chunks/vec3f64.js";import{surfaceElevationBelowRenderLocation as s}from"../intersectionUtils.js";function o(r,o,l=i.EYE){const a=r.state.constraints;if(!a.collision.enabled)return!1;const N=s(r,o.eye),f=r.renderCoordsHelper.getAltitude(o.eye),A=N+a.collision.elevationMargin;if(f>=A)return!1;const C=e(o.eye);if(E(c,o.center,o.eye),o.eye=r.renderCoordsHelper.setAltitude(_,A,o.eye),l===i.EYE_AND_CENTER)o.center=t(c,o.eye,c);else if(l===i.EYE_AND_CENTER_SCALE){const e=(C-f+A)/C;o.center=n(c,o.center,e)}return!0}var i;!function(e){e[e.EYE=0]="EYE",e[e.EYE_AND_CENTER=1]="EYE_AND_CENTER",e[e.EYE_AND_CENTER_SCALE=2]="EYE_AND_CENTER_SCALE"}(i||(i={}));const c=r(),_=r();export{i as Mode,o as applySurfaceCollisionConstraint};
