/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{rad2deg as t,acosClamped as s}from"../../../core/mathUtils.js";import{n,d as a,g as o,a as c,f as i,l as r,c as e}from"../../../chunks/vec3.js";import{c as f}from"../../../chunks/vec3f64.js";const l=f(),u=f();function h(){return{direction:f(),up:f()}}function m(f,h,m,p,d){let g=n(l,f),j=a(g,p);const b=j>0;j=Math.abs(j),j>.99&&(j=Math.abs(a(h,p)),j<.99?(o(g,h),b&&c(g,g,-1)):g=null);let k=0;if(g){c(u,p,a(p,g)),i(g,g,u);const n=a(g,d)/(r(g)*r(d));e(u,g,d);k=(a(u,p)>0?1:-1)*t(s(n))}const v=t(s(-a(p,f)/r(f)));return m?(m.heading=k,m.tilt=v,m):{heading:k,tilt:v}}export{h as createDirectionUp,m as directionToHeadingTilt};
