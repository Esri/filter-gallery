/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{NormalAttributeType as e}from"../core/shaderLibrary/attributes/NormalAttribute.glsl.js";import{TextureCoordinateAttributeType as r}from"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js";import{R as s}from"../../../../chunks/RealisticTree.glsl.js";import{NormalsDoubleSidedMode as i}from"../core/shaderLibrary/shading/Normals.glsl.js";import{PBRMode as o}from"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js";import{doublePrecisionRequiresObfuscation as t}from"../core/shaderLibrary/util/DoublePrecision.glsl.js";import{ReloadableShaderModule as a}from"../core/shaderTechnique/ReloadableShaderModule.js";import{TransparencyPassType as l}from"../lib/basicInterfaces.js";import{Default3D as n}from"../lib/DefaultVertexAttributeLocations.js";import{Program as c}from"../lib/Program.js";import{DefaultMaterialTechnique as d}from"./DefaultMaterialTechnique.js";class u extends d{initializeProgram(s){const a=u.shader.get(),d=this.configuration,b=a.build({oitEnabled:d.transparencyPassType===l.Color,output:d.output,viewingMode:s.viewingMode,receiveShadows:d.receiveShadows,slicePlaneEnabled:d.slicePlaneEnabled,sliceHighlightDisabled:d.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:d.symbolColors,vvSize:d.vvSize,vvColor:d.vvColor,vvInstancingEnabled:!0,instanced:d.instanced,instancedColor:d.instancedColor,instancedDoublePrecision:d.instancedDoublePrecision,pbrMode:d.usePBR?o.Normal:o.Disabled,hasMetalnessAndRoughnessTexture:!1,hasEmissionTexture:!1,hasOcclusionTexture:!1,hasNormalTexture:!1,hasColorTexture:d.hasColorTexture,hasModelTransformation:!1,receiveAmbientOcclusion:d.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:e.Attribute,doubleSidedMode:i.WindingOrder,vertexTangents:!1,attributeTextureCoordinates:d.hasColorTexture?r.Default:r.None,textureAlphaPremultiplied:d.textureAlphaPremultiplied,attributeColor:d.vertexColors,screenSizePerspectiveEnabled:d.screenSizePerspective,verticalOffsetEnabled:d.verticalOffset,offsetBackfaces:d.offsetBackfaces,doublePrecisionRequiresObfuscation:t(s.rctx),alphaDiscardMode:d.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:d.multipassTerrainEnabled,cullAboveGround:d.cullAboveGround});return new c(s.rctx,b,n)}}u.shader=new a(s,(()=>import("../core/shaderLibrary/default/RealisticTree.glsl.js")));export{u as RealisticTreeTechnique};
