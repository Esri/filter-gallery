/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{_ as e}from"../../../../chunks/tslib.es6.js";import{ShaderOutput as r}from"../core/shaderLibrary/ShaderOutputOptions.js";import{ReloadableShaderModule as t}from"../core/shaderTechnique/ReloadableShaderModule.js";import{ShaderTechnique as i}from"../core/shaderTechnique/ShaderTechnique.js";import{parameter as o,ShaderTechniqueConfiguration as s}from"../core/shaderTechnique/ShaderTechniqueConfiguration.js";import{Default3D as n}from"../lib/DefaultVertexAttributeLocations.js";import{Program as l}from"../lib/Program.js";import{stencilWriteMaskOn as a,stencilBaseAllZerosParams as c}from"../lib/StencilUtils.js";import{P as u}from"../../../../chunks/PointRenderer.glsl.js";import{CompareFunction as d}from"../../../webgl/enums.js";import{makePipelineState as p,defaultDepthWriteParams as h,defaultColorWriteParams as m}from"../../../webgl/renderState.js";class f extends i{constructor(e,r,t){super(e,r,t)}initializeProgram(e){const r=f.shader.get(),t=this.configuration,i=r.build({output:t.output,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!0,drawScreenSize:t.drawScreenSize});return new l(e.rctx,i,n)}initializePipeline(){return p({depthTest:{func:d.LESS},depthWrite:h,colorWrite:m,stencilWrite:this.configuration.sceneHasOcludees?a:null,stencilTest:this.configuration.sceneHasOcludees?c:null})}}f.shader=new t(u,(()=>import("./PointRenderer.glsl.js")));class b extends s{constructor(){super(...arguments),this.output=r.Color,this.slicePlaneEnabled=!1,this.drawScreenSize=!1,this.sceneHasOcludees=!1}}e([o({count:r.COUNT})],b.prototype,"output",void 0),e([o()],b.prototype,"slicePlaneEnabled",void 0),e([o()],b.prototype,"drawScreenSize",void 0),e([o()],b.prototype,"sceneHasOcludees",void 0);export{f as PointRendererTechnique,b as PointRendererTechniqueConfiguration};
