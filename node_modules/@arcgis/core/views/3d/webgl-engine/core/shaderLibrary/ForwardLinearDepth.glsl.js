/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{ShaderOutput as e}from"./ShaderOutputOptions.js";import{glsl as r}from"../shaderModules/interfaces.js";function a(a,o){o.output===e.Color&&o.receiveShadows?(a.varyings.add("linearDepth","float"),a.vertex.code.add(r`void forwardLinearDepth() { linearDepth = gl_Position.w; }`)):o.output===e.Depth||o.output===e.Shadow?(a.varyings.add("linearDepth","float"),a.vertex.uniforms.add("nearFar","vec2"),a.vertex.code.add(r`void forwardLinearDepth() {
linearDepth = (-position_view().z - nearFar[0]) / (nearFar[1] - nearFar[0]);
}`)):a.vertex.code.add(r`void forwardLinearDepth() {}`)}export{a as ForwardLinearDepth};
