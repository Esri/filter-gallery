/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{floatEqualAbsolute as t}from"../../core/mathUtils.js";import{b as n,k as r,u as s,g as e,f as o,m as u,v as c,c as a,l as f}from"../../chunks/vec2.js";import{b as i,a as p}from"../../chunks/vec2f64.js";function h(t,n){return t[0]*n[1]-t[1]*n[0]}function m(t,r,s){const e=(r[0]-t[0])*(s[1]-t[1])-(r[1]-t[1])*(s[0]-t[0]);return Math.abs(e)/n(r,s)}function E(t,n,o){const u=r(o,n)/s(o);return e(t,o,u)}function I(t,n,r,s,e=r){return o(k,s,r),o(A,n,e),E(R,A,k),u(t,e,R)}function L(t,n,e,u){o(k,u,e),o(A,n,e);const f=r(k,A)/s(k);return f>0?c(t,e,k,f):a(t,e)}function N(t,n,r,s){o(k,n,r);const e=s/f(k);return c(t,r,k,e)}function y(n,r){return I(A,r,n.start,n.end),t(A[0],r[0])&&t(A[1],r[1])?[i(r)]:[]}function b(n,r,s){return N(A,s,n,r),t(A[0],s[0])&&t(A[1],s[1])?[i(s)]:[]}function d(t,n){const r=t.start,s=t.end,e=n.start,u=n.end,a=o(k,s,r),f=o(M,u,e),i=h(a,f);if(Math.abs(i)<=j)return[];const p=o(A,r,e),m=h(f,p)/i,E=h(a,p)/i;if(m>=0){if(E>=0||n.type===v.LINE)return[c(R,r,a,m)]}else if(t.type===v.LINE&&(E>=0||n.type===v.LINE))return[c(R,r,a,m)];return[]}function l(t,n,e){const u=[],a=o(k,t.end,t.start),f=o(M,t.start,n),i=s(a),p=2*r(a,f),h=p*p-4*i*(s(f)-e*e);if(0===h){const n=-p/(2*i);(t.type===v.LINE||n>=0)&&u.push(c(R,t.start,a,n))}else if(h>0){const n=Math.sqrt(h),r=(-p+n)/(2*i);(t.type===v.LINE||r>=0)&&u.push(c(R,t.start,a,r));const s=(-p-n)/(2*i);(t.type===v.LINE||s>=0)&&u.push(c(A,t.start,a,s))}return u}var v;!function(t){t[t.RAY=0]="RAY",t[t.LINE=1]="LINE"}(v||(v={}));const j=1e-6,k=p(),M=p(),A=p(),R=p();export{v as LineType,h as cross,b as intersectCircleAndPoint,y as intersectLineAndPoint,d as intersectLineAndRay,l as intersectLineLikeAndCircle,m as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};
