/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{createResolver as t,throwIfAborted as e}from"../../../../core/promiseUtils.js";function o(o,r,n){var l;const c=null!=(l=null==n?void 0:n.batchSize)?l:100,i=500,s=t();let a=0;const m=()=>{const t=Date.now();let l=!1,h=0;for(;!l&&h<i;){try{for(n&&e(n);a<Math.min(a+c,o.length);a++)r(o[a])}catch(u){s.reject(u)}h=Date.now()-t,l=a>=o.length}l?s.resolve():setTimeout(m,0)};return m(),s.promise}export{o as executeForEachAsync};
