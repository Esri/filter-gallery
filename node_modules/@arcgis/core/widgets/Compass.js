/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{_ as s}from"../chunks/tslib.es6.js";import{aliasOf as e}from"../core/accessorSupport/decorators/aliasOf.js";import"../core/arrayUtils.js";import"../core/has.js";import"../core/accessorSupport/ensureType.js";import{property as o}from"../core/accessorSupport/decorators/property.js";import{subclass as t}from"../core/accessorSupport/decorators/subclass.js";import r from"./Widget.js";import i from"./Compass/CompassViewModel.js";import{accessibleHandler as a}from"./support/decorators/accessibleHandler.js";import{messageBundle as c}from"./support/decorators/messageBundle.js";import"../core/Logger.js";import{tsx as p}from"./support/jsxFactory.js";import"./support/widgetUtils.js";const n={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let l=class extends r{constructor(s,e){super(s,e),this.goToOverride=null,this.iconClass=n.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new i}reset(){return this.viewModel.reset()}render(){const{orientation:s,state:e}=this.viewModel,o="disabled"===e,t="compass"===("rotation"===e?"rotation":"compass"),r=o?-1:0,i={[n.disabled]:o,[n.interactive]:!o},a={[n.northIcon]:t,[n.rotationIcon]:!t},{messages:c}=this;return p("div",{bind:this,class:this.classes(n.base,i),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:r,"aria-label":c.reset,title:c.reset},p("span",{"aria-hidden":"true",class:this.classes(n.icon,a),styles:this._toRotationTransform(s)}),p("span",{class:n.text},c.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(s){return{transform:`rotateZ(${s.z}deg)`}}};s([e("viewModel.goToOverride")],l.prototype,"goToOverride",void 0),s([o()],l.prototype,"iconClass",void 0),s([o({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],l.prototype,"label",void 0),s([o(),c("esri/widgets/Compass/t9n/Compass")],l.prototype,"messages",void 0),s([e("viewModel.view")],l.prototype,"view",void 0),s([o({type:i})],l.prototype,"viewModel",void 0),s([a()],l.prototype,"_reset",null),l=s([t("esri.widgets.Compass")],l);const d=l;export{d as default};
