/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{Heading as e}from"../support/Heading.js";import{tsx as t}from"../support/jsxFactory.js";import{classes as i,isActivationKey as n}from"../support/widgetUtils.js";const s={base:"esri-item-list",list:"esri-item-list__list",group:"esri-item-list__group",scroller:"esri-item-list__scroller",groupHeader:"esri-item-list__group__header",item:"esri-item-list__list-item",itemSelected:"esri-item-list__list-item--selected",itemContainer:"esri-item-list__list-item-container",itemLabel:"esri-item-list__list-item-label",noMatchesMessage:"esri-item-list__no-matches-message",noItemsMessage:"esri-item-list__no-items-message",filterContainer:"esri-item-list__filter-container",filterContainerSticky:"esri-item-list__filter-container--sticky",filterPlaceholder:"esri-item-list__filter-placeholder",filterInput:"esri-item-list__filter-input",filterPlaceholderText:"esri-item-list__filter-placeholder-text",searchIcon:"esri-icon-search",widget:"esri-widget",input:"esri-input"};function l(e){var i;const{id:n,identify:s,filterEnabled:l=!0,headingLevel:r=4,items:c,selectedItem:m,messages:u,filterText:d="",onFilterChange:I,renderIcon:f,onItemMouseLeave:g,onItemMouseEnter:p,onItemSelect:_}=e,h=null==(i=e.enableListScroll)||i;return t("div",{key:n},l?a({filterText:d,messages:u,onFilterChange:I,id:n}):null,o({enableListScroll:h,identify:s,items:c,selectedItem:m,messages:u,filterText:d,headingLevel:r,renderIcon:f,onItemMouseLeave:g,onItemMouseEnter:p,onItemSelect:_}))}function r(e){return!!e.items}function o(e){const{headingLevel:i,identify:n,items:l,renderIcon:o,filterText:a,onItemMouseLeave:u,onItemMouseEnter:d,onItemSelect:I,selectedItem:f}=e,g=e.enableListScroll?s.scroller:null;return 0===l.length?t("div",{class:s.noMatchesMessage,key:"no-matches"},e.messages.noMatches):t("div",{class:g,key:"item-container"},l.map((e=>r(e)?m({group:e,filterText:a,headingLevel:i,identify:n,onItemMouseLeave:u,onItemMouseEnter:d,onItemSelect:I,renderIcon:o,selectedItem:f}):c({item:e,identify:n,grouped:!0,onItemMouseLeave:u,onItemMouseEnter:d,onItemSelect:I,renderIcon:o,filterText:a,selectedItem:f}))))}function a(e){const{messages:i,filterText:n,enableListScroll:l}=e;return t("div",{key:"filter",class:l?null:s.filterContainerSticky},t("calcite-input",{onCalciteInputInput:t=>{const i=t.currentTarget;e.onFilterChange&&e.onFilterChange(i.value)},placeholder:i.filterPlaceholder,value:n,type:"search"}))}function c(e){const{identify:l,item:r,selectedItem:o,grouped:a,onItemSelect:c,onItemMouseEnter:m,onItemMouseLeave:u,renderIcon:d}=e,I=`${(null==l?void 0:l(r))||r.id}__${r.label}`,f=o?`${(null==l?void 0:l(o))||o.id}__${o.label}`:"";return t("calcite-list-item",{"aria-level":a?"2":"","data-item":r,key:I,class:i(s.item,I===f?s.itemSelected:""),label:r.label,onclick:e=>{const t=e.currentTarget["data-item"];c&&c(t)},onmouseenter:e=>{const t=e.currentTarget["data-item"];m&&m(t)},onkeydown:e=>{if(!n(e.key))return;const t=e.currentTarget["data-item"];c&&c(t)},onmouseleave:e=>{const t=e.currentTarget["data-item"];u&&u(t)},tabIndex:0},t("div",{slot:"content-start"},d&&d({item:r})))}function m(i){const{group:n,identify:l,onItemMouseLeave:r,onItemMouseEnter:o,onItemSelect:a,filterText:m,renderIcon:u,selectedItem:d,headingLevel:I}=i;return t("div",{class:s.group,key:n.label},t(e,{level:I,class:s.groupHeader},n.label),n.items.map((e=>c({item:e,identify:l,grouped:!0,onItemMouseLeave:r,onItemMouseEnter:o,onItemSelect:a,renderIcon:u,filterText:m,selectedItem:d}))))}function u(e){const{match:i,text:n}=e;let l=null;if(i){const e=n.toLowerCase(),s=i.toLowerCase(),r=e.indexOf(s);if(-1===r)l=n;else{const e=n.substring(0,r),s=n.substr(r,i.length),o=n.substring(r+i.length);l=t("span",null,e,t("strong",null,s),o)}}else l=n;return t("span",{class:s.itemLabel},l)}export{l as ItemList,m as renderGroup,c as renderItem,u as renderLabel};
