/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import"../../geometry.js";import n from"../Polygon.js";import e from"../Polyline.js";import t from"../Point.js";import r from"../Multipoint.js";function i(n){let e=0,t=0;const r=n.length;let i,o=n[t];for(t=0;t<r-1;t++)i=n[t+1],e+=(i[0]-o[0])*(i[1]+o[1]),o=i;return e>=0}function o(n,e,t,r){const i=[];for(const o of n){const n=o.slice(0);i.push(n);const s=e*(o[0]-r.x)-t*(o[1]-r.y)+r.x,l=t*(o[0]-r.x)+e*(o[1]-r.y)+r.y;n[0]=s,n[1]=l}return i}function s(s,l,a){const c=s.spatialReference,f=l*Math.PI/180,m=Math.cos(f),x=Math.sin(f);var p,u;"xmin"in s&&(a=null!=(p=a)?p:s.center,s=new n({spatialReference:c,rings:[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}));if("paths"in s){var y;a=null!=(y=a)?y:s.extent.center;const n=[];for(const e of s.paths)n.push(o(e,m,x,a));return new e({spatialReference:c,paths:n})}if("rings"in s){var h;a=null!=(h=a)?h:s.extent.center;const e=[];for(const n of s.rings){const t=i(n),r=o(n,m,x,a);i(r)!==t&&r.reverse(),e.push(r)}return new n({spatialReference:c,rings:e})}if("x"in s){var g;a=null!=(g=a)?g:s;const n=new t({x:m*(s.x-a.x)-x*(s.y-a.y)+a.x,y:x*(s.x-a.x)+m*(s.y-a.y)+a.y,spatialReference:c});return null!=s.z&&(n.z=s.z),null!=s.m&&(n.m=s.m),n}return"points"in s?(a=null!=(u=a)?u:s.extent.center,new r({points:o(s.points,m,x,a),spatialReference:c})):null}export{s as default};
