/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{clone as i}from"../lang.js";import{OriginId as r}from"./PropertyOrigin.js";class e{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(r){const l=new e;return this._values.forEach(((e,n)=>{r&&r.has(n)||l.set(n,i(e.value),e.origin)})),l}get(i,r){r=this._normalizeOrigin(r);const e=this._values.get(i);return null==r||(null==e?void 0:e.origin)===r?null==e?void 0:e.value:void 0}originOf(i){var e,l;return null!=(e=null==(l=this._values.get(i))?void 0:l.origin)?e:r.USER}keys(i){i=this._normalizeOrigin(i);const r=[...this._values.keys()];return null==i?r:r.filter((r=>{var e;return(null==(e=this._values.get(r))?void 0:e.origin)===i}))}set(i,e,n){if((n=this._normalizeOrigin(n))===r.DEFAULTS){const r=this._values.get(i);if(r&&null!=r.origin&&r.origin>n)return}this._values.set(i,new l(e,n))}delete(i,r){var e;null!=(r=this._normalizeOrigin(r))&&(null==(e=this._values.get(i))?void 0:e.origin)!==r||this._values.delete(i)}has(i,r){var e;return null!=(r=this._normalizeOrigin(r))?(null==(e=this._values.get(i))?void 0:e.origin)===r:this._values.has(i)}forEach(i){this._values.forEach((({value:r},e)=>i(r,e)))}_normalizeOrigin(i){if(null!=i)return i===r.DEFAULTS?i:r.USER}}class l{constructor(i,r){this.value=i,this.origin=r}}export{e as DefaultsStore};
