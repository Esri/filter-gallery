/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */
import{q as queryElementRoots,c as closestElementCrossShadowBoundary}from"./dom-e7fa77b9.js";var labelClickEvent="calciteInternalLabelClick";var labelTagName="calcite-label";var onLabelClickMap=new WeakMap;var findLabelForComponent=function(e){var l=e.id;var n=l&&queryElementRoots(e,{selector:labelTagName+'[for="'+l+'"]'});if(n){return n}var t=closestElementCrossShadowBoundary(e,labelTagName);if(!t||hasAncestorCustomElements(t,e)){return null}return t};function hasAncestorCustomElements(e,l){var n;var t="custom-element-ancestor-check";var a=function(t){t.stopImmediatePropagation();var a=t.composedPath();n=a.slice(a.indexOf(l),a.indexOf(e))};e.addEventListener(t,a,{once:true});l.dispatchEvent(new CustomEvent(t,{composed:true,bubbles:true}));e.removeEventListener(t,a);var r=n.filter((function(n){return n!==l&&n!==e})).filter((function(e){var l;return(l=e.tagName)===null||l===void 0?void 0:l.includes("-")}));return r.length>0}function connectLabel(e){var l=findLabelForComponent(e.el);if(!l||onLabelClickMap.has(l)){return}e.labelEl=l;var n=onLabelClick.bind(e);onLabelClickMap.set(e.labelEl,n);e.labelEl.addEventListener(labelClickEvent,n)}function disconnectLabel(e){if(!e.labelEl){return}var l=onLabelClickMap.get(e.labelEl);e.labelEl.removeEventListener(labelClickEvent,l);onLabelClickMap.delete(e.labelEl)}function getLabelText(e){var l,n;return e.label||((n=(l=e.labelEl)===null||l===void 0?void 0:l.textContent)===null||n===void 0?void 0:n.trim())||""}function onLabelClick(e){if(this.disabled){return}var l=this.el.contains(e.detail.sourceEvent.target);if(l){return}this.onLabelClick(e)}export{connectLabel as c,disconnectLabel as d,getLabelText as g};