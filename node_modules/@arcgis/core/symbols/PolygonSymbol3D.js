/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import o from"../core/Collection.js";import r from"../core/Error.js";import{clone as t}from"../core/lang.js";import{isSome as s}from"../core/maybe.js";import{property as y}from"../core/accessorSupport/decorators/property.js";import"../core/accessorSupport/ensureType.js";import{enumeration as l}from"../core/accessorSupport/decorators/enumeration.js";import{subclass as m}from"../core/accessorSupport/decorators/subclass.js";import{writer as a}from"../core/accessorSupport/decorators/writer.js";import i from"./ExtrudeSymbol3DLayer.js";import p from"./FillSymbol3DLayer.js";import n from"./IconSymbol3DLayer.js";import b from"./LineSymbol3DLayer.js";import c from"./ObjectSymbol3DLayer.js";import f from"./Symbol3D.js";import u from"./TextSymbol3DLayer.js";import L from"./WaterSymbol3DLayer.js";var S;const j=o.ofType({base:null,key:"type",typeMap:{extrude:i,fill:p,icon:n,line:b,object:c,text:u,water:L}}),d=o.ofType({base:null,key:"type",typeMap:{extrude:i,fill:p,icon:n,line:b,object:c,water:L}});let g=S=class extends f{constructor(e){super(e),this.symbolLayers=new j,this.type="polygon-3d"}writeSymbolLayers(e,o,t,s){const y=e.filter((e=>"text"!==e.type));if(s&&s.messages&&y.length<e.length){const o=e.find((e=>"text"===e.type));s.messages.push(new r("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:o}))}o[t]=y.map((e=>e.write({},s))).toArray()}clone(){return new S({styleOrigin:t(this.styleOrigin),symbolLayers:t(this.symbolLayers),thumbnail:t(this.thumbnail)})}static fromJSON(e){const o=new S;if(o.read(e),2===o.symbolLayers.length&&"fill"===o.symbolLayers.getItemAt(0).type&&"line"===o.symbolLayers.getItemAt(1).type){const r=o.symbolLayers.getItemAt(0),t=o.symbolLayers.getItemAt(1);!t.enabled||e.symbolLayers&&e.symbolLayers[1]&&!1===e.symbolLayers[1].enable||(r.outline={size:t.size,color:s(t.material)?t.material.color:null}),o.symbolLayers.removeAt(1)}return o}static fromSimpleFillSymbol(e){return new S({symbolLayers:[p.fromSimpleFillSymbol(e)]})}};e([y({type:j,json:{type:d}})],g.prototype,"symbolLayers",void 0),e([a("web-scene","symbolLayers")],g.prototype,"writeSymbolLayers",null),e([l({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],g.prototype,"type",void 0),g=S=e([m("esri.symbols.PolygonSymbol3D")],g);const h=g;export{h as default};
